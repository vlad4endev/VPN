# üîß –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º —Å —Å–æ–∑–¥–∞–Ω–∏–µ–º –ø–æ–¥–ø–∏—Å–∫–∏

## –ü—Ä–æ–±–ª–µ–º–∞: –ü–æ—Å–ª–µ –Ω–∞–∂–∞—Ç–∏—è "–û–ø–ª–∞—Ç–∏—Ç—å" –∏–ª–∏ "–û–ø–ª–∞—Ç–∏—Ç—å –ø–æ–∑–∂–µ" –Ω–∏—á–µ–≥–æ –Ω–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç

### –®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä–∫–∞ Backend Proxy

**Backend Proxy –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∑–∞–ø—É—â–µ–Ω!** –ë–µ–∑ –Ω–µ–≥–æ –∑–∞–ø—Ä–æ—Å—ã –≤ 3x-ui –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç.

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞, –∑–∞–ø—É—â–µ–Ω –ª–∏ Backend Proxy
curl http://localhost:3001/api/vpn/health

# –ï—Å–ª–∏ –æ—à–∏–±–∫–∞ - –∑–∞–ø—É—Å—Ç–∏—Ç–µ Backend Proxy:
cd server
npm start

# –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–∫—Ä–∏–ø—Ç –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –≤—Å–µ–≥–æ:
./start-all.sh
```

### –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞

–û—Ç–∫—Ä–æ–π—Ç–µ DevTools (F12) ‚Üí Console –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏:

1. **–ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ "–û–ø–ª–∞—Ç–∏—Ç—å —Å–µ–π—á–∞—Å" –∏–ª–∏ "–û–ø–ª–∞—Ç–∏—Ç—å –ø–æ–∑–∂–µ" –¥–æ–ª–∂–Ω—ã –ø–æ—è–≤–∏—Ç—å—Å—è –ª–æ–≥–∏:**
   ```
   ‚è∞ TariffSelectionModal.handlePayLater: –í—ã–±—Ä–∞–Ω–∞ –æ–ø–ª–∞—Ç–∞ –ø–æ–∑–∂–µ (—Ç–µ—Å—Ç–æ–≤—ã–π –ø–µ—Ä–∏–æ–¥)
   ‚úÖ TariffSelectionModal.handlePayLater: –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∑–∞–≤–µ—Ä—à–µ–Ω–æ
   üöÄ TariffSelectionModal.handlePayLater: –í—ã–∑–æ–≤ onConfirm...
   ```

2. **–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –¥–æ–ª–∂–Ω—ã –ø–æ—è–≤–∏—Ç—å—Å—è –ª–æ–≥–∏:**
   ```
   üéØ Dashboard: handleTariffConfirm –≤—ã–∑–≤–∞–Ω —Å –¥–∞–Ω–Ω—ã–º–∏
   üéØ App.handleCreateSubscription –≤—ã–∑–≤–∞–Ω —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
   üéØ dashboardService.createSubscription: –ù–∞—á–∞–ª–æ —Ñ—É–Ω–∫—Ü–∏–∏
   ```

3. **–ï—Å–ª–∏ —ç—Ç–∏—Ö –ª–æ–≥–æ–≤ –Ω–µ—Ç:**
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –Ω–µ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è —Ä–∞–Ω—å—à–µ –≤—Ä–µ–º–µ–Ω–∏
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ `onConfirm` –ø–µ—Ä–µ–¥–∞–Ω –≤ `TariffSelectionModal`

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—à–∏–±–æ–∫ –≤ –∫–æ–Ω—Å–æ–ª–∏

–ò—â–∏—Ç–µ –æ—à–∏–±–∫–∏ –≤–∏–¥–∞:
- `‚ùå` - –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏
- `‚ö†Ô∏è` - –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è
- `ECONNREFUSED` - Backend Proxy –Ω–µ –∑–∞–ø—É—â–µ–Ω

### –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä–∫–∞ Network –≤ DevTools

1. –û—Ç–∫—Ä–æ–π—Ç–µ DevTools ‚Üí Network
2. –ù–∞–∂–º–∏—Ç–µ "–û–ø–ª–∞—Ç–∏—Ç—å" –∏–ª–∏ "–û–ø–ª–∞—Ç–∏—Ç—å –ø–æ–∑–∂–µ"
3. –î–æ–ª–∂–µ–Ω –ø–æ—è–≤–∏—Ç—å—Å—è –∑–∞–ø—Ä–æ—Å:
   - URL: `http://localhost:5173/api/vpn/add-client`
   - Method: `POST`
   - Status: `200` –∏–ª–∏ –æ—à–∏–±–∫–∞

### –®–∞–≥ 5: –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è —Å–µ—Ä–≤–µ—Ä–∞ —Å —Å–µ—Å—Å–∏–µ–π

–í –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª–∏:
1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ "–ù–∞—Å—Ç—Ä–æ–π–∫–∏" ‚Üí "–°–µ—Ä–≤–µ—Ä—ã 3x-ui"
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –µ—Å—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–π —Å–µ—Ä–≤–µ—Ä
3. –ù–∞–∂–º–∏—Ç–µ "–ü–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ" –¥–ª—è –Ω—É–∂–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞
4. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ç–µ—Å—Ç –ø—Ä–æ—à–µ–ª —É—Å–ø–µ—à–Ω–æ (–∑–µ–ª–µ–Ω—ã–π —Å—Ç–∞—Ç—É—Å "–°–µ—Å—Å–∏—è OK")

### –®–∞–≥ 6: –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞—Ç—Ä–µ–∫-–ø–æ—Ä—Ç–æ–≤ –¥–ª—è MULTI —Ç–∞—Ä–∏—Ñ–∞

–ï—Å–ª–∏ –≤—ã–±–∏—Ä–∞–µ—Ç–µ —Ç–∞—Ä–∏—Ñ MULTI:
1. –í –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª–∏ ‚Üí "–ù–∞—Å—Ç—Ä–æ–π–∫–∏"
2. –î–æ–ª–∂–Ω–æ –±—ã—Ç—å –ø–æ–ª–µ –¥–ª—è –Ω–∞—Ç—Ä–µ–∫-–ø–æ—Ä—Ç–æ–≤
3. –î–æ–±–∞–≤—å—Ç–µ –ø–æ—Ä—Ç—ã –≤ —Ñ–æ—Ä–º–∞—Ç–µ –º–∞—Å—Å–∏–≤–∞: `["–ø–æ—Ä—Ç1", "–ø–æ—Ä—Ç2"]`

## –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è

### –ü—Ä–æ–±–ª–µ–º–∞ 1: Backend Proxy –Ω–µ –∑–∞–ø—É—â–µ–Ω
**–†–µ—à–µ–Ω–∏–µ:** –ó–∞–ø—É—Å—Ç–∏—Ç–µ `cd server && npm start` –∏–ª–∏ `./start-all.sh`

### –ü—Ä–æ–±–ª–µ–º–∞ 2: –ù–µ—Ç –∞–∫—Ç–∏–≤–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞ —Å —Å–µ—Å—Å–∏–µ–π
**–†–µ—à–µ–Ω–∏–µ:** 
1. –ó–∞–π–¥–∏—Ç–µ –≤ –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å
2. "–ù–∞—Å—Ç—Ä–æ–π–∫–∏" ‚Üí "–°–µ—Ä–≤–µ—Ä—ã 3x-ui"
3. –ù–∞–∂–º–∏—Ç–µ "–ü–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ" –¥–ª—è –Ω—É–∂–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞

### –ü—Ä–æ–±–ª–µ–º–∞ 3: –û—à–∏–±–∫–∞ "–ù–µ –Ω–∞–π–¥–µ–Ω –∞–∫—Ç–∏–≤–Ω—ã–π —Å–µ—Ä–≤–µ—Ä"
**–†–µ—à–µ–Ω–∏–µ:** 
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Å–µ—Ä–≤–µ—Ä –∞–∫—Ç–∏–≤–µ–Ω (–≥–∞–ª–æ—á–∫–∞ "–ê–∫—Ç–∏–≤–µ–Ω")
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —É —Å–µ—Ä–≤–µ—Ä–∞ –∑–∞–ø–æ–ª–Ω–µ–Ω—ã –≤—Å–µ –ø–æ–ª—è: IP, –ø–æ—Ä—Ç, username, password, inboundId

### –ü—Ä–æ–±–ª–µ–º–∞ 4: –î–ª—è MULTI —Ç–∞—Ä–∏—Ñ–∞ –Ω–µ—Ç –ø–æ—Ä—Ç–æ–≤
**–†–µ—à–µ–Ω–∏–µ:**
- –í –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª–∏ –¥–æ–±–∞–≤—å—Ç–µ –ø–æ–ª–µ `natrockPorts` –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (–º–∞—Å—Å–∏–≤ —Å—Ç—Ä–æ–∫ —Å –ø–æ—Ä—Ç–∞–º–∏)
