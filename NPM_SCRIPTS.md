# üìù NPM —Å–∫—Ä–∏–ø—Ç—ã –ø—Ä–æ–µ–∫—Ç–∞

> –û–ø–∏—Å–∞–Ω–∏–µ –≤—Å–µ—Ö –¥–æ—Å—Ç—É–ø–Ω—ã—Ö npm —Å–∫—Ä–∏–ø—Ç–æ–≤ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞

---

## üöÄ –î–æ—Å—Ç—É–ø–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã

### `npm run dev`
**–û–ø–∏—Å–∞–Ω–∏–µ**: –ó–∞–ø—É—Å–∫ frontend –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏  
**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**: `npm run dev`  
**–†–µ–∑—É–ª—å—Ç–∞—Ç**: 
- –ó–∞–ø—É—Å–∫–∞–µ—Ç Vite dev server
- –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–Ω–æ –Ω–∞ `http://localhost:5173`
- –ì–æ—Ä—è—á–∞—è –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∫–æ–¥–∞

---

### `npm run build`
**–û–ø–∏—Å–∞–Ω–∏–µ**: –°–±–æ—Ä–∫–∞ production –≤–µ—Ä—Å–∏–∏ frontend  
**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**: `npm run build`  
**–†–µ–∑—É–ª—å—Ç–∞—Ç**: 
- –°–æ–∑–¥–∞–µ—Ç –ø–∞–ø–∫—É `dist/` —Å–æ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–º–∏ —Ñ–∞–π–ª–∞–º–∏
- –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∏ –º–∏–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–¥
- –ì–æ—Ç–æ–≤–æ –∫ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é

---

### `npm run preview`
**–û–ø–∏—Å–∞–Ω–∏–µ**: –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä production —Å–±–æ—Ä–∫–∏ –ª–æ–∫–∞–ª—å–Ω–æ  
**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**: `npm run preview`  
**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è**: –°–Ω–∞—á–∞–ª–∞ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ `npm run build`  
**–†–µ–∑—É–ª—å—Ç–∞—Ç**: 
- –ó–∞–ø—É—Å–∫–∞–µ—Ç –ª–æ–∫–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä –¥–ª—è –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä–∞ `dist/`
- –ü–æ–ª–µ–∑–Ω–æ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è production —Å–±–æ—Ä–∫–∏

---

### `npm start`
**–û–ø–∏—Å–∞–Ω–∏–µ**: –ó–∞–ø—É—Å–∫ production —Å–µ—Ä–≤–µ—Ä–∞  
**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**: `npm start`  
**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è**: 
- –°–Ω–∞—á–∞–ª–∞ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ `npm run build` (—á—Ç–æ–±—ã —Å–æ–∑–¥–∞—Ç—å `dist/`)
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤ `server/` —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã: `cd server && npm install`
- –ù–∞—Å—Ç—Ä–æ–π—Ç–µ `.env` —Ñ–∞–π–ª —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: 
- –ó–∞–ø—É—Å–∫–∞–µ—Ç Express proxy —Å–µ—Ä–≤–µ—Ä (`server/proxy-server.js`)
- –û–±—Å–ª—É–∂–∏–≤–∞–µ—Ç —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã –∏–∑ `dist/`
- –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç API –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å 3x-ui
- –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –Ω–∞ `http://localhost:3001`

**–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è**:
```bash
# 1. –°–æ–±–µ—Ä–∏—Ç–µ frontend
npm run build

# 2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ backend (–µ—Å–ª–∏ –µ—â–µ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã)
cd server && npm install && cd ..

# 3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ production —Å–µ—Ä–≤–µ—Ä
npm start
```

---

### `npm run build:start`
**–û–ø–∏—Å–∞–Ω–∏–µ**: –°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫ production —Å–µ—Ä–≤–µ—Ä–∞ –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π  
**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**: `npm run build:start`  
**–†–µ–∑—É–ª—å—Ç–∞—Ç**: 
- –°–Ω–∞—á–∞–ª–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç `npm run build`
- –ó–∞—Ç–µ–º –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç `npm start`

**–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è**:
```bash
npm run build:start
```

---

### `npm run analyze`
**–û–ø–∏—Å–∞–Ω–∏–µ**: –ê–Ω–∞–ª–∏–∑ —Ä–∞–∑–º–µ—Ä–∞ production –±–∞–Ω–¥–ª–∞  
**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**: `npm run analyze`  
**–†–µ–∑—É–ª—å—Ç–∞—Ç**: 
- –°–æ–±–∏—Ä–∞–µ—Ç production –≤–µ—Ä—Å–∏—é
- –°–æ–∑–¥–∞–µ—Ç —Ñ–∞–π–ª `dist/stats.html` —Å –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–µ–π —Ä–∞–∑–º–µ—Ä–∞ –±–∞–Ω–¥–ª–∞
- –ü–æ–º–æ–≥–∞–µ—Ç –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–∑–º–µ—Ä –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

---

## üéØ –¢–∏–ø–∏—á–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ (Development)

```bash
# –ó–∞–ø—É—Å–∫ frontend –≤ dev —Ä–µ–∂–∏–º–µ
npm run dev

# –í –æ—Ç–¥–µ–ª—å–Ω–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ - –∑–∞–ø—É—Å–∫ backend proxy (–µ—Å–ª–∏ –Ω—É–∂–µ–Ω)
cd server && npm start
```

–ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `start-all.sh`:
```bash
./start-all.sh
```

---

### Production –ª–æ–∫–∞–ª—å–Ω–æ (—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)

```bash
# –°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫ –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π
npm run build:start

# –ò–ª–∏ –ø–æ—à–∞–≥–æ–≤–æ:
npm run build
npm start
```

---

### Production –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ (—á–µ—Ä–µ–∑ Docker)

```bash
# –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Docker
docker build -t skyputh-vpn:latest .
docker run -p 3001:3001 --env-file .env skyputh-vpn:latest

# –ò–ª–∏ —á–µ—Ä–µ–∑ Docker Compose
docker-compose up -d
```

---

### Production –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ (–≤—Ä—É—á–Ω—É—é)

```bash
# 1. –°–æ–±–µ—Ä–∏—Ç–µ frontend
npm run build

# 2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ backend
cd server && npm install && cd ..

# 3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —á–µ—Ä–µ–∑ PM2 (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
cd server
pm2 start proxy-server.js --name skyputh-vpn

# –ò–ª–∏ —á–µ—Ä–µ–∑ systemd
# –°–º. DEPLOY_INSTRUCTIONS.md
```

---

## ‚öôÔ∏è –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–î–ª—è —Ä–∞–±–æ—Ç—ã `npm start` –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ `.env`:

```env
# –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ
NODE_ENV=production
PROXY_PORT=3001
XUI_HOST=http://your-3xui-server:2053
XUI_USERNAME=admin
XUI_PASSWORD=your_password
XUI_INBOUND_ID=1

# Firebase (–¥–ª—è frontend)
VITE_FIREBASE_API_KEY=...
VITE_FIREBASE_AUTH_DOMAIN=...
VITE_FIREBASE_PROJECT_ID=...
VITE_FIREBASE_STORAGE_BUCKET=...
VITE_FIREBASE_MESSAGING_SENDER_ID=...
VITE_FIREBASE_APP_ID=...

# CORS
ALLOWED_ORIGINS=http://localhost:3001
FRONTEND_URL=http://localhost:3001
```

–°–º. `.env.example` –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö.

---

## üÜò –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –û—à–∏–±–∫–∞: "Missing script: start"

‚úÖ **–†–µ—à–µ–Ω–∏–µ**: –°–∫—Ä–∏–ø—Ç `start` —É–∂–µ –¥–æ–±–∞–≤–ª–µ–Ω –≤ `package.json`. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –ø–æ—Å–ª–µ–¥–Ω—é—é –≤–µ—Ä—Å–∏—é —Ñ–∞–π–ª–∞.

### –û—à–∏–±–∫–∞: "Cannot find module 'server/proxy-server.js'"

‚úÖ **–†–µ—à–µ–Ω–∏–µ**: 
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã –Ω–∞—Ö–æ–¥–∏—Ç–µ—Å—å –≤ –∫–æ—Ä–Ω–µ–≤–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Ñ–∞–π–ª `server/proxy-server.js` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ backend: `cd server && npm install`

### –û—à–∏–±–∫–∞: "dist folder not found"

‚úÖ **–†–µ—à–µ–Ω–∏–µ**: 
- –°–Ω–∞—á–∞–ª–∞ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ `npm run build`
- –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `npm run build:start` –≤–º–µ—Å—Ç–æ `npm start`

### –ü–æ—Ä—Ç 3001 –∑–∞–Ω—è—Ç

‚úÖ **–†–µ—à–µ–Ω–∏–µ**: 
```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø—Ä–æ—Ü–µ—Å—Å –Ω–∞ –ø–æ—Ä—Ç—É 3001
lsof -ti:3001 | xargs kill -9

# –ò–ª–∏ –∏–∑–º–µ–Ω–∏—Ç–µ PORT –≤ .env:
PROXY_PORT=3002
```

---

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

- **README.md** - –û—Å–Ω–æ–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞
- **DEPLOY_INSTRUCTIONS.md** - –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é
- **QUICK_START.md** - –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

---

**–ì–æ—Ç–æ–≤–æ!** –¢–µ–ø–µ—Ä—å –≤—ã –∑–Ω–∞–µ—Ç–µ, –∫–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤—Å–µ npm —Å–∫—Ä–∏–ø—Ç—ã –ø—Ä–æ–µ–∫—Ç–∞. üöÄ
