# üîÑ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –æ—Ç–∫–∞—Ç—É –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

> –û—Ç–∫–∞—Ç –ø—Ä–æ–µ–∫—Ç–∞ –∫ –∫–æ–º–º–∏—Ç—É `0c96a83f72aa70d64fa8cdcb27e9554beb234b5b`

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å–ø–æ—Å–æ–± (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–∞

1. **–ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ —Å–µ—Ä–≤–µ—Ä—É:**
```bash
ssh user@your-server-ip
```

2. **–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø—Ä–æ–µ–∫—Ç–∞:**
```bash
cd /path/to/your/project
# –ù–∞–ø—Ä–∏–º–µ—Ä: cd ~/skyputh-vpn
```

3. **–°–∫–∞—á–∞–π—Ç–µ —Å–∫—Ä–∏–ø—Ç –æ—Ç–∫–∞—Ç–∞ (–µ—Å–ª–∏ –µ–≥–æ –µ—â–µ –Ω–µ—Ç –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ):**
```bash
# –ï—Å–ª–∏ —Å–∫—Ä–∏–ø—Ç —É–∂–µ –µ—Å—Ç—å –≤ –ø—Ä–æ–µ–∫—Ç–µ:
chmod +x rollback-server.sh
./rollback-server.sh

# –ò–ª–∏ —É–∫–∞–∂–∏—Ç–µ –ø—É—Ç—å –∫ –ø—Ä–æ–µ–∫—Ç—É:
./rollback-server.sh /path/to/project
```

4. **–°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º —Å–∫—Ä–∏–ø—Ç–∞**

---

## üìã –†—É—á–Ω–æ–π —Å–ø–æ—Å–æ–±

### –®–∞–≥ 1: –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Ä–≤–µ—Ä—É

```bash
ssh user@your-server-ip
```

### –®–∞–≥ 2: –ü–µ—Ä–µ—Ö–æ–¥ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø—Ä–æ–µ–∫—Ç–∞

```bash
cd /path/to/your/project
# –ù–∞–ø—Ä–∏–º–µ—Ä:
# cd ~/skyputh-vpn
# –∏–ª–∏
# cd /opt/skyputh-vpn
```

### –®–∞–≥ 3: –û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–µ—Ä–≤–∏—Å–æ–≤

#### –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Docker:

```bash
docker-compose down
```

#### –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è PM2:

```bash
pm2 stop all
```

#### –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è systemd:

```bash
sudo systemctl stop skyputh-vpn-backend
sudo systemctl stop skyputh-vpn-frontend
```

#### –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è npm –Ω–∞–ø—Ä—è–º—É—é:

–ù–∞–∂–º–∏—Ç–µ `Ctrl+C` –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ, –≥–¥–µ –∑–∞–ø—É—â–µ–Ω —Å–µ—Ä–≤–µ—Ä.

---

### –®–∞–≥ 4: –û—Ç–∫–∞—Ç –∫ –Ω—É–∂–Ω–æ–º—É –∫–æ–º–º–∏—Ç—É

```bash
# –ü–æ–ª—É—á–∞–µ–º –ø–æ—Å–ª–µ–¥–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
git fetch origin

# –û—Ç–∫–∞—Ç—ã–≤–∞–µ–º—Å—è –∫ –∫–æ–º–º–∏—Ç—É
git reset --hard 0c96a83f72aa70d64fa8cdcb27e9554beb234b5b

# –£–¥–∞–ª—è–µ–º –Ω–µ–æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ–º—ã–µ —Ñ–∞–π–ª—ã
git clean -fd

# –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å—Ç–∞—Ç—É—Å
git status
```

---

### –®–∞–≥ 5: –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–æ–≤

#### –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Docker:

```bash
docker-compose up -d --build
```

#### –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è PM2:

```bash
# –ï—Å–ª–∏ –µ—Å—Ç—å ecosystem.config.js:
pm2 restart ecosystem.config.js

# –ò–ª–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ –≤—Å–µ—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤:
pm2 restart all

# –ò–ª–∏ –∑–∞–ø—É—Å–∫ —Å –Ω—É–ª—è:
pm2 delete all
cd server && pm2 start proxy-server.js --name skyputh-vpn-backend
cd .. && pm2 serve dist 5173 --name skyputh-vpn-frontend --spa
```

#### –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è systemd:

```bash
sudo systemctl start skyputh-vpn-backend
sudo systemctl start skyputh-vpn-frontend

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞:
sudo systemctl status skyputh-vpn-backend
sudo systemctl status skyputh-vpn-frontend
```

#### –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è npm –Ω–∞–ø—Ä—è–º—É—é:

```bash
# Backend (–≤ –æ–¥–Ω–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ):
cd server
npm start

# Frontend (–≤ –¥—Ä—É–≥–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ):
npm run dev
```

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ç–∫–∞—Ç–∞

### 1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–µ–∫—É—â–∏–π –∫–æ–º–º–∏—Ç:

```bash
git log --oneline -1
# –î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å: 0c96a83 –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è: formatTimeRemaining, —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∏ –∫–µ—à –¥–æ–º–µ–Ω–∞
```

### 2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–æ–≤:

#### Docker:
```bash
docker-compose ps
docker-compose logs -f
```

#### PM2:
```bash
pm2 status
pm2 logs
```

#### systemd:
```bash
sudo systemctl status skyputh-vpn-backend
sudo systemctl status skyputh-vpn-frontend
```

### 3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å:

```bash
# Healthcheck (–µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω)
curl http://localhost:3001/health

# –ò–ª–∏ –æ—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ:
# http://your-server-ip:3001
```

---

## üîç –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–∏–ø–∞ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è

–ï—Å–ª–∏ –Ω–µ –∑–Ω–∞–µ—Ç–µ, –∫–∞–∫–æ–π —Å–ø–æ—Å–æ–± —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è:

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ Docker:
ls docker-compose.yml docker-compose.yaml 2>/dev/null && echo "–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Docker"

# –ü—Ä–æ–≤–µ—Ä–∫–∞ PM2:
pm2 list 2>/dev/null && echo "–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è PM2"

# –ü—Ä–æ–≤–µ—Ä–∫–∞ systemd:
systemctl list-units --type=service | grep skyputh && echo "–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è systemd"

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–ø—É—â–µ–Ω–Ω—ã—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤:
ps aux | grep -E "node|vite" | grep -v grep
```

---

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

1. **–†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ:** –ü–µ—Ä–µ–¥ –æ—Ç–∫–∞—Ç–æ–º —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —Å–æ–∑–¥–∞—Ç—å —Ä–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é:
```bash
# –°–æ–∑–¥–∞—Ç—å –±—ç–∫–∞–ø –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞
tar -czf backup-$(date +%Y%m%d-%H%M%S).tar.gz /path/to/project
```

2. **–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:** –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ñ–∞–π–ª—ã `.env` –Ω–µ –±—É–¥—É—Ç —É–¥–∞–ª–µ–Ω—ã:
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ .env –≤ .gitignore
git check-ignore .env
```

3. **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:** –ï—Å–ª–∏ –µ—Å—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏ –ë–î, –≤–æ–∑–º–æ–∂–Ω–æ –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –∏—Ö –æ—Ç–∫–∞—Ç –æ—Ç–¥–µ–ª—å–Ω–æ.

4. **–õ–æ–≥–∏:** –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –ª–æ–≥–∏ –ø–µ—Ä–µ–¥ –æ—Ç–∫–∞—Ç–æ–º, –µ—Å–ª–∏ –æ–Ω–∏ –≤–∞–∂–Ω—ã:
```bash
# –î–ª—è Docker:
docker-compose logs > logs-backup-$(date +%Y%m%d).log

# –î–ª—è PM2:
pm2 logs > logs-backup-$(date +%Y%m%d).log
```

---

## üÜò –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫

### –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–∑ —Ä–µ–∑–µ—Ä–≤–Ω–æ–π –∫–æ–ø–∏–∏:

```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Å–µ—Ä–≤–∏—Å—ã
docker-compose down  # –∏–ª–∏ pm2 stop all

# –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∏–∑ –±—ç–∫–∞–ø–∞
tar -xzf backup-YYYYMMDD-HHMMSS.tar.gz -C /

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–∏—Å—ã
docker-compose up -d  # –∏–ª–∏ pm2 restart all
```

### –û—Ç–∫–∞—Ç –∫ –ø—Ä–µ–¥—ã–¥—É—â–µ–º—É –∫–æ–º–º–∏—Ç—É:

```bash
git reset --hard HEAD~1  # –û—Ç–∫–∞—Ç –Ω–∞ 1 –∫–æ–º–º–∏—Ç –Ω–∞–∑–∞–¥
# –∏–ª–∏
git reset --hard <commit-hash>  # –û—Ç–∫–∞—Ç –∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º—É –∫–æ–º–º–∏—Ç—É
```

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ —Å–µ—Ä–≤–∏—Å–æ–≤
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã: `npm install`
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è: `node check-env.js`
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ —Ñ–∞–π–ª–∞–º

---

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 2026-01-17  
**–ö–æ–º–º–∏—Ç –¥–ª—è –æ—Ç–∫–∞—Ç–∞:** `0c96a83f72aa70d64fa8cdcb27e9554beb234b5b`
